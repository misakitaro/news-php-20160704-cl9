{"changed":true,"filter":false,"title":"edit_form.php","tooltip":"/edit_form.php","value":"<?php\nrequire_once 'config.php';\nrequire_once 'functions.php';\nrequire_login();\n\ntry {\n  //データベース接続\n  $pdo = connectDb();\n  $pdo->query('SET NAMES utf8');\n\n  //データ検索\n  $stmt = $pdo->prepare('SELECT * FROM articles WHERE id = :id');\n  $stmt->bindValue(':id', $_GET['id'], PDO::PARAM_INT);\n  $stmt->execute();\n\n  //データ割り当て\n  if ($data = $stmt->fetch(PDO::FETCH_ASSOC)) {\n    $smarty->assign('article', $data);\n  } else {\n    $smarty->assign('message', '指定されたニュースが見つかりません。');\n    $smarty->display('error.html');\n    exit;\n  }\n} catch (PDOException $e) {\n  exit($e->getMessage());\n}\n\n//データベース接続終了\n$pdo = null;\n\n//結果表示\n$smarty->display('edit_form.html');\n\n?>\n","undoManager":{"mark":-2,"position":1,"stack":[[{"start":{"row":3,"column":0},"end":{"row":3,"column":16},"action":"insert","lines":["require_login();"],"id":24}],[{"start":{"row":3,"column":16},"end":{"row":4,"column":0},"action":"insert","lines":["",""],"id":25}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":4,"column":0},"end":{"row":4,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1467116818578}